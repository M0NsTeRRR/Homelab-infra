---
netbox_superuser_email: "{{ email }}"
netbox_sync_netbox_hostname: "{{ ansible_fqdn }}"
netbox_sync_permitted_subnets: "{{ ipv4_subnets + ipv6_subnets }}"
netbox_sync_custom_dns_servers: "{{ groups['dns'] }}"
netbox_sync_vcenter_hostname: "{{ vcenter_hostname }}"
netbox_sync_vcenter_port: "{{ vcenter_port }}"

nginx_configuration:
  - name: "{{ ansible_fqdn }}"
    locations:
      - location: /
        proxy_pass: "http://127.0.0.1:8001"
      - location: /static/
        alias: /opt/netbox/netbox/static/
    enable_content_security: true
    http_redirection: true
    ssl_port: "443"
    local_path_ssl_certificate: "{{ certs_dir }}www/{{ ansible_fqdn }}/client.crt"
    local_path_ssl_certificate_key: "{{ certs_dir }}www/{{ ansible_fqdn }}/client.pem"
    server_name: "{{ ansible_fqdn }}"

nginx_exporter_local_path_ca_certificate: "{{ certs_dir }}ca.crt"
nginx_exporter_local_path_certificate: "{{ certs_dir }}exporter/nginx-exporter/client.crt"
nginx_exporter_local_path_certificate_key: "{{ certs_dir }}exporter/nginx-exporter/client.pem"